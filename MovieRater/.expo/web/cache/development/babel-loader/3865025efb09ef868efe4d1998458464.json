{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { StatusBar } from 'expo-status-bar';\nimport React, { useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { AsyncStorage } from \"react-native-web/dist/index\";\nexport default function Auth(props) {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      username = _useState2[0],\n      setUsername = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var auth = function auth() {\n    fetch(\"http://192.168.0.175:8000/auth//\", {\n      method: 'POST',\n      headers: {\n        'Authorization': 'Token 2ea3ee1268d7d28577e1390b71c1ec40545e3ea7',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username: username,\n        password: password\n      })\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res) {\n      saveData(res.token);\n      props.navigation.navigate('MovieList');\n    }).catch(function (error) {\n      return console.log(error);\n    });\n  };\n\n  var saveData = function saveData(token) {\n    return _regeneratorRuntime.async(function saveData$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem('MR_Token', token));\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return React.createElement(View, {\n    style: styles.container\n  }, React.createElement(Text, {\n    style: styles.label\n  }, \"Username\"), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"Username\",\n    onChangeText: function onChangeText(text) {\n      return setUsername(text);\n    },\n    value: username,\n    autoCapitalize: 'none'\n  }), React.createElement(Text, {\n    style: styles.label\n  }, \"Password\"), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"Password\",\n    onChangeText: function onChangeText(text) {\n      return setPassword(text);\n    },\n    value: password,\n    autoCapitalize: 'none',\n    secureTextEntry: true\n  }), React.createElement(Button, {\n    onPress: function onPress() {\n      return auth();\n    },\n    title: \"Login\"\n  }));\n}\n\nAuth.navigationOptions = function (screenProps) {\n  return {\n    title: 'Login',\n    headerStyle: {\n      backgroundColor: 'orange'\n    },\n    headerTintColor: '#fff',\n    headerTitleStyle: {\n      fontWeight: 'bold',\n      fontSize: 24\n    },\n    headerRight: function headerRight() {\n      return React.createElement(Button, {\n        title: \"Remove\",\n        color: \"orange\",\n        onPress: function onPress() {\n          return removeClicked(screenProps);\n        }\n      });\n    }\n  };\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#282C35',\n    padding: 10\n  },\n  label: {\n    fontSize: 24,\n    color: 'white',\n    padding: 10\n  },\n  input: {\n    backgroundColor: 'white',\n    fontSize: 24,\n    padding: 10,\n    margin: 10\n  }\n});","map":{"version":3,"sources":["F:/MovieRater/components/auth.js"],"names":["StatusBar","React","useState","useEffect","AsyncStorage","Auth","props","username","setUsername","password","setPassword","auth","fetch","method","headers","body","JSON","stringify","then","res","json","saveData","token","navigation","navigate","catch","error","console","log","setItem","styles","container","label","input","text","navigationOptions","screenProps","title","headerStyle","backgroundColor","headerTintColor","headerTitleStyle","fontWeight","fontSize","headerRight","removeClicked","StyleSheet","create","flex","padding","color","margin"],"mappings":"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","sourcesContent":["import { StatusBar } from 'expo-status-bar';\r\nimport React, {useState, useEffect} from 'react';\r\nimport { StyleSheet, Text, View, FlatList , Image, Button, TextInput,AsyncStorage} from 'react-native';\r\n\r\nexport default function Auth(props) {\r\n    const [username,setUsername] = useState('')\r\n    const [password,setPassword] = useState('')\r\n\r\n    const auth = () => {\r\n            fetch(`http://192.168.0.175:8000/auth//`, {\r\n            // fetch('http://127.0.0.1:8000/api/movies/', { \r\n                method: 'POST',\r\n                headers: {\r\n                    'Authorization' : 'Token 2ea3ee1268d7d28577e1390b71c1ec40545e3ea7',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({username,password})\r\n            }).then(res => res.json())\r\n            .then(res => {\r\n                saveData(res.token)\r\n            props.navigation.navigate('MovieList')})\r\n            .catch(error => console.log(error))\r\n        \r\n    }      \r\n\r\n    const saveData = async (token) => {\r\n        await AsyncStorage.setItem('MR_Token', token)\r\n    }\r\n    return (\r\n        <View style={styles.container}>\r\n            <Text style={styles.label}>Username</Text>\r\n            <TextInput\r\n                style={styles.input}\r\n                placeholder=\"Username\"\r\n                onChangeText={text=>setUsername(text)}\r\n                value={username}\r\n                autoCapitalize={'none'}\r\n            />\r\n            <Text style={styles.label}>Password</Text>\r\n            <TextInput\r\n                style={styles.input}\r\n                placeholder=\"Password\"\r\n                onChangeText={text=>setPassword(text)}\r\n                value={password}\r\n                autoCapitalize={'none'}\r\n                secureTextEntry={true}\r\n            />\r\n            <Button onPress={()=>auth()} title='Login'/>\r\n        </View>\r\n    );\r\n}\r\n\r\nAuth.navigationOptions = screenProps => ({\r\n    title: 'Login',\r\n    headerStyle:{\r\n         backgroundColor: 'orange'\r\n    },\r\n    headerTintColor: '#fff',\r\n    headerTitleStyle: {\r\n        fontWeight: 'bold',\r\n        fontSize: 24\r\n    },\r\n    headerRight: () =>  <Button title='Remove' color='orange' onPress={() => removeClicked(screenProps)}/>,\r\n})\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#282C35',\r\n    padding: 10\r\n  },\r\n  \r\n  label: {\r\n      fontSize: 24,\r\n      color: 'white',\r\n      padding: 10\r\n  },\r\n\r\n  input : {\r\n    backgroundColor: 'white',\r\n    fontSize: 24,\r\n    padding: 10,\r\n    margin: 10\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}