{"version":3,"sources":["api-service.js","components/movie-list.js","components/movie-details.js","components/movie-form.js","hooks/useFetch.js","App.js","reportWebVitals.js","components/auth.js","index.js"],"names":["API","mov_id","body","token","fetch","process","method","headers","JSON","stringify","then","resp","json","console","log","MovieList","props","useCookies","movieClicked","movie","evt","movies","map","className","onClick","title","icon","faEdit","editClicked","faTrash","deleteMovie","id","removeClicked","catch","error","MovieDetails","useState","highlighted","setHighlighted","mov","highlightRate","high","getdetails","updateMovie","Fragment","description","Array","e","i","faStar","avg_rating","no_of_ratings","onMouseEnter","onMouseLeave","rate","stars","MovieForm","setTitle","setDescription","useEffect","isDisabled","length","for","type","placeholder","value","onChange","target","updatedMovie","disabled","createMovie","movieCreated","useFetch","data","setData","loading","setLoading","setError","a","getMovies","fetchData","App","setMovie","selectedMovie","setSelectedMovie","editedMovie","setEditedMovie","deleteToken","window","location","href","loadMovie","faFilm","faSignOutAlt","newMovies","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Auth","username","setUsername","password","setPassword","setToken","isLoginView","setIsLoginView","isWrongLogin","setWrongLogin","loginClicked","loginUser","htmlFor","registerUser","Router","StrictMode","CookiesProvider","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.14fbb629.chunk.js","sourcesContent":["export class API {\r\n    static updateMovie(mov_id, body, token){\r\n        // return fetch(`http://127.0.0.1:8000/api/movies/${mov_id}/`, {\r\n        return fetch(`${process.env.REACT_APP_API_URL}/api/movies/${mov_id}/`, {\r\n        method: 'PUT',\r\n        headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization' : `Token ${token}`\r\n      },\r\n        body: JSON.stringify(body)\r\n    }).then(resp => resp.json())\r\n    }\r\n\r\n    static createMovie(body, token){\r\n        // return fetch('http://127.0.0.1:8000/api/movies/', {\r\n        return fetch(`${process.env.REACT_APP_API_URL}/api/movies/`, {\r\n        method: 'POST',\r\n        headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization' : `Token ${token}`\r\n        },\r\n        body: JSON.stringify(body)\r\n    }).then(resp => resp.json())\r\n    }\r\n\r\n    static deleteMovie(mov_id, token){\r\n        // return fetch(`http://127.0.0.1:8000/api/movies/${mov_id}/`, {\r\n            return fetch(`${process.env.REACT_APP_API_URL}/api/movies/${mov_id}/`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization' : `Token ${token}`\r\n        }\r\n    })\r\n    }\r\n    \r\n    static loginUser(body){\r\n        console.log(process.env.REACT_APP_API_URL)\r\n        // return fetch('http://127.0.0.1:8000/auth/', {\r\n            return fetch(`${process.env.REACT_APP_API_URL}/auth/`, {\r\n        method: 'POST',\r\n        headers: {\r\n        'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(body)\r\n    }).then(resp => resp.json())\r\n    }\r\n\r\n    static registerUser(body){\r\n        // return fetch('http://127.0.0.1:8000/api/users/', {\r\n            return fetch(`${process.env.REACT_APP_API_URL}/api/users/`, {\r\n        method: 'POST',\r\n        headers: {\r\n        'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(body)\r\n    }).then(resp => resp.json())\r\n    }\r\n\r\n    static getMovies(token){\r\n        // return  fetch('http://127.0.0.1:8000/api/movies/', {\r\n            return fetch(`${process.env.REACT_APP_API_URL}/api/movies/`, {\r\n            method: 'GET',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'Authorization' : `Token ${token}`\r\n            }\r\n          }).then(resp => resp.json())\r\n        }\r\n}","import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faEdit } from '@fortawesome/free-solid-svg-icons'\r\nimport { faTrash } from '@fortawesome/free-solid-svg-icons'\r\nimport {API} from '../api-service';\r\nimport {useCookies} from 'react-cookie'\r\n\r\nfunction MovieList(props){\r\n    const [token, setToken] = useCookies(['mr-token'])\r\n    const movieClicked = movie => evt => {\r\n        props.movieClicked(movie)\r\n    }\r\n\r\n    const editClicked = movie => {\r\n        props.editClicked(movie)\r\n    }\r\n\r\n    const removeClicked = movie => {\r\n        API.deleteMovie(movie.id, token['mr-token']).then(() => props.removeClicked(movie)).catch(error => console.log())\r\n    }\r\n\r\n    return (   \r\n        <div>{props.movies && \r\n            props.movies.map(movie => {\r\n                return(\r\n                    <div key={movie.id} className='movie-item'> \r\n                        <h2 onClick={movieClicked(movie)}>{movie.title}</h2>\r\n                        <FontAwesomeIcon icon={faEdit} onClick={() => editClicked(movie)}/>\r\n                        <FontAwesomeIcon icon={faTrash} onClick={() => removeClicked(movie)}/>\r\n                    </div>\r\n                )\r\n          })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MovieList;","import React, {useState} from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faStar } from '@fortawesome/free-solid-svg-icons'\r\nimport {useCookies} from 'react-cookie'\r\n\r\nfunction MovieDetails(props){\r\n    const [highlighted, setHighlighted] = useState(-1)\r\n    let mov = props.movie\r\n    const highlightRate = high => evt => {\r\n        setHighlighted(high);\r\n    }\r\n    const [token, setToken] = useCookies(['mr-token'])\r\n\r\n    const rateClicked = rate => evt => {\r\n        fetch(`http://127.0.0.1:8000/api/movies/${mov.id}/rate_movie/`, {\r\n        method: 'POST',\r\n        headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization' : `Token ${token['mr-token']}`\r\n      },\r\n        body: JSON.stringify({stars: rate + 1})\r\n    }).then(() => getdetails()).catch(error => console.log(error))\r\n    }\r\n\r\n    const getdetails = () => {\r\n        fetch(`http://127.0.0.1:8000/api/movies/${mov.id}/ `, {\r\n        method: 'GET',\r\n        headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization' : `Token ${token['mr-token']}`\r\n      },\r\n    }).then(resp => resp.json()).then(resp => props.updateMovie(resp) ).catch(error => console.log(error))\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            {mov ? (\r\n                <div>\r\n                    <h1>{mov.title}</h1>\r\n                    <p>{mov.description}</p>\r\n                    {\r\n                        [...Array(5)].map((e,i) => {\r\n                            return <FontAwesomeIcon key={i} icon={faStar} className={mov.avg_rating>i ? 'orange' : '' }/>\r\n                \r\n                        } )\r\n                    }\r\n                    ({mov.no_of_ratings})\r\n\r\n                    <div className = 'rate-container'>\r\n                        <h2>Rate it</h2>\r\n                        {\r\n                            [...Array(5)].map((e,i) => {\r\n                                return <FontAwesomeIcon key={i} icon={faStar} className={highlighted>i-1 ? 'purple' : '' }\r\n                            onMouseEnter={highlightRate(i)}\r\n                            onMouseLeave={highlightRate(-1)}\r\n                            onClick={rateClicked(i)}\r\n                            />\r\n                            } )\r\n                        }\r\n                    </div>\r\n                </div>      \r\n            ) : null}\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default MovieDetails;","import React, {useState,useEffect} from 'react';\r\nimport {API} from '../api-service';\r\nimport {useCookies} from 'react-cookie'\r\n\r\nfunction MovieForm(props){\r\n    const [title,setTitle] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    const [token, setToken] = useCookies(['mr-token'])\r\n\r\n    useEffect( () => {\r\n       setTitle(props.movie.title) \r\n       setDescription(props.movie.description) \r\n    } , [props.movie])\r\n\r\n    const updateClicked = () => {\r\n        console.log('update here');\r\n        API.updateMovie(props.movie.id, {title,description}, token['mr-token'])\r\n        .then(resp => props.updatedMovie(resp))\r\n        .catch(error => console.log(error))\r\n    }\r\n\r\n    const createClicked = () => {\r\n        console.log('create here');\r\n        API.createMovie({title,description}, token['mr-token'])\r\n        .then(resp => props.movieCreated(resp))\r\n        .catch(error => console.log(error))\r\n    }\r\n\r\n    const isDisabled = title.length === 0 || description.length === 0\r\n\r\n    return (\r\n        <React.Fragment>\r\n            {props.movie ? (\r\n                <div>\r\n                    <label for='title'> Title </label><br/>\r\n                    <input id='title' type='text' placeholder='title' value={title} \r\n                    onChange={evt => setTitle(evt.target.value)}/><br/>\r\n                    <label for='description'>Description</label><br/>\r\n                    <textarea id='description' type='text' placeholder='Description' value={description} \r\n                        onChange={evt => setDescription(evt.target.value)}></textarea><br/>\r\n                    { props.movie.id ?\r\n                        <button onClick={updateClicked} disabled={isDisabled}>Update</button> : \r\n                        <button onClick={createClicked} disabled={isDisabled}>Create</button>\r\n                    }\r\n                </div>\r\n            ) : null}\r\n            \r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\n\r\nexport default MovieForm;","import React, {useState,useEffect} from 'react'\r\nimport { API } from '../api-service'\r\nimport {useCookies} from 'react-cookie'\r\n\r\nfunction useFetch(){\r\n    const [data, setData] = useState([])\r\n    const [loading, setLoading] = useState(true)\r\n    const [error, setError] = useState()\r\n    const [token] = useCookies(['mr-token'])\r\n\r\n    useEffect( () => {\r\n        async function fetchData() {\r\n            setLoading(true)\r\n            setError()\r\n            const data = await API.getMovies(token['mr-token']).catch(error => setError(error))\r\n            setData(data)\r\n            setLoading(false)\r\n        }\r\n        fetchData();\r\n    }, [])\r\n\r\n    return [data, loading, error]\r\n}\r\n\r\nexport default useFetch","import React, {useState, useEffect} from 'react';\nimport MovieList from './components/movie-list';\nimport MovieDetails from './components/movie-details';\nimport MovieForm from './components/movie-form'\nimport './App.css';\nimport {useCookies} from 'react-cookie'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faFilm } from '@fortawesome/free-solid-svg-icons'\nimport { faSignOutAlt } from '@fortawesome/free-solid-svg-icons'\nimport useFetch from './hooks/useFetch';\n\nfunction App() {\n  const [movies,setMovie] = useState([]);\n  const [selectedMovie, setSelectedMovie] = useState(null);\n  const [editedMovie, setEditedMovie] = useState(null);\n  const [token, setToken, deleteToken] = useCookies(['mr-token'])\n  const [data,loading,error] = useFetch()\n\n  useEffect(() => {\n    console.log(data)\n   setMovie(data)\n  }, [data])\n\n  useEffect( () => {\n    console.log(token)\n    if(!token['mr-token']) window.location.href ='/'\n}, [token])\n\n  const loadMovie = movie => {\n    setSelectedMovie(movie);\n    setEditedMovie(null)\n  }\n\n  const editClicked = movie => {\n    setEditedMovie(movie)\n    setSelectedMovie(null)\n  }\n\n  const updatedMovie = movie => {\n    const newMovies = movies.map( mov => {\n      if (mov.id === movie.id){\n        return movie;\n      }\n      return mov;\n    })\n    setMovie(newMovies)\n  }\n\n  const newMovie = () => {\n    setEditedMovie({title: '', description: ''})\n    setSelectedMovie(null)\n  }\n\n  const movieCreated = movie => {\n    const newMovies = [...movies, movie];\n    setMovie(newMovies)\n  }\n\n  const removeCliked = movie => {\n    const newMovies = movies.filter(mov => mov.id !== movie.id)\n    setMovie(newMovies)\n  }\n\n  const logOutUser = () => {\n    deleteToken(['mr-token']);\n  }\n\n  if(loading) return <h1>Loading...</h1>\n  if(error) return <h1>Error loading movies</h1>\n  \n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>\n            <FontAwesomeIcon icon={faFilm}/>\n            <span> Movie rater</span>\n        </h1>\n        <FontAwesomeIcon icon={faSignOutAlt} onClick={logOutUser}/>\n      </header>\n      <div className='layout'>\n        \n        <div>\n          <MovieList movies = {movies} movieClicked={loadMovie} editClicked={editClicked} removeClicked={removeCliked}/>\n          <button onClick={newMovie}>New movie</button>\n        </div>\n\n        <MovieDetails movie ={selectedMovie} updateMovie = {loadMovie} />\n        {editedMovie ? <MovieForm movie ={editedMovie} updatedMovie = {updatedMovie} movieCreated={movieCreated}/> : null}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React, {useState,useEffect} from 'react';\r\nimport {API} from '../api-service';\r\nimport {useCookies} from 'react-cookie'\r\n\r\nfunction Auth(){\r\n    const [username,setUsername] = useState('')\r\n    const [password,setPassword] = useState('')\r\n    const [token, setToken] = useCookies(['mr-token'])\r\n    const [isLoginView, setIsLoginView] = useState(true)\r\n    const [isWrongLogin, setWrongLogin] = useState(false)\r\n\r\n    const loginClicked = () => {\r\n        API.loginUser({username,password}).then(resp => setToken('mr-token',resp.token)).catch(error => console.log(error))\r\n    }\r\n\r\n    const registerClicked = () => {\r\n        API.registerUser({username,password}).then(resp => loginClicked()).catch(error => console.log(error))\r\n    }\r\n\r\n    const isDisabled = username.length === 0 || password.length === 0\r\n\r\n    useEffect( () => {\r\n        if(token['mr-token'] && (token['mr-token'] !== 'undefined')) {\r\n            window.location.href ='/movies'\r\n            setWrongLogin(false)\r\n        }\r\n        else if(token['mr-token'] && (token['mr-token'] === 'undefined')) setWrongLogin(true)\r\n    }, [token])\r\n\r\n    return (\r\n        <div  className=\"App\">\r\n            <header className=\"App-header\">\r\n                <h1>{isLoginView ? <h1>Login</h1> : <h1>Register</h1>}</h1>\r\n            </header>\r\n            <div  className=\"login-container\">\r\n                {console.log('ads',username)}\r\n                <label htmlFor='username'> username </label><br/>\r\n                <input id='username' type='text' placeholder='username' value={username} \r\n                onChange={evt => setUsername(evt.target.value)}/><br/>\r\n                <label for='password'>password</label><br/>\r\n                <input id='password' type='password' placeholder='password' value={password} \r\n                    onChange={evt => setPassword(evt.target.value)}/><br/>\r\n                {isLoginView ? \r\n                    <button onClick={loginClicked} disabled={isDisabled}>Login</button> : \r\n                    <button onClick={registerClicked} disabled={isDisabled}>Register</button>}\r\n                {(isLoginView && isWrongLogin) ? <p className='warning'>Your username/password is wrong. Please try again!</p> : <p></p>} \r\n                {isLoginView ? \r\n                    <p onClick={() => setIsLoginView(false)}>You do not have an account? Register here!</p> :\r\n                    <p onClick={() => setIsLoginView(true)}>You already have an account? Login here</p>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Auth","import React, {useState} from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {Route, BrowserRouter} from 'react-router-dom';\nimport Auth from './components/auth'\nimport {CookiesProvider} from  'react-cookie'\n\nfunction Router(){\n  return (\n      <React.StrictMode>\n        <CookiesProvider>\n          <BrowserRouter>\n            <Route exact path='/' component = {Auth}/>\n            <Route exact path='/movies' component = {App}/>\n          </BrowserRouter>\n        </CookiesProvider>\n      </React.StrictMode>\n    \n  )\n}\n\nReactDOM.render(\n  <Router />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}